# 의문점
기존 구조: 도로 상황 관련 객체는 polygon으로 구성되고, PM은 bounding box BB로 구성된다. BB와 polygon의 조합의 학습을 통해 PM 라벨 분류로 위반사항을 확인할 수 있다.

여기서 의문인게 탐지한 객체 자체가 '교통법규를 위반한 객체'라는 라벨: BB/polygon은 그 객체 하나일 뿐 그 서로의 객체들과의 관계(횡단보도 상 PM, 적생등에서의 PM 등)는 현 데이터셋의 PM 분류가 아닌 별도의 분류로 관리해야 하는 것이 아닌지 싶다. 그게 내 생각에는 체계적이다. 추가적으로 기존 방식대로 오토바이, 자전거, 그리고 전동킥보드가 각각 9개, 총 27개로 구분되어 있어서 BB를 27개 중 하나로 라벨링한다면 단순 오토바이, 자전거, 그리고 전동킥보드로 3개로 구분했을 때에 비해 과적합의 가능성이 더 커지지 않나 싶다. 우선적으로 이 PM이 오토바이, 자전거, 전동킥보드인지 먼저 확실히 하는 것이 좋을 것 같다는 의견.

그래서 이를 바꾸어 구성하기 위해 다음의 순서로 생각해볼 수 있다.
- 헬멧 미착용의 경우
    - 헬멧 자체가 BB로 구분된 것이 전혀 없다면 이 경우는 '헬멧 미착용'으로 라벨링 가능. 나머지 PM은 '헬멧 착용'으로 라벨링할 수 있다.
    - 헬멧 자체가 BB로 구분되어 있다면 그 BB는 도로 상황과 관련된 polygon으로 간주하고 아래와 같은 상황으로 이해할 수 있다.
- 나머지 경우
    - PM을 '횡단보도를 질주하는 오토바이', '신호를 위반한 오토바이' 등이 27가지가 아니라 '오토바이', '자전거', '전동킥보드' 3가지로 구분을 하고, 이미지 자체에 '횡단보도 질주하는 오토바이', '신호 위반한 오토바이'라는 라벨을 부여해서 이미지 상에서 객체들을 정확히 탐지하고 그 탐지된 객체들 사이의 관계로부터 이미지 분류를 하고 싶다.
    - dictionary map을 만들어서 전처리한다면 크게 어렵지는 않을 것 같다.
        - 새로운 PM 라벨링: `dict_ = {'횡단보도를 질주하는 오토바이': '오토바이', '신호 위반한 오토바이': '오토바이',...}`와 비슷한 27가지 key-value를 가지는 dictionary.
        - 이미지 라벨링 A: 기존 PM 라벨
    - 다시 헬멧의 문제: 헬멧 착용/미착용을 별도로 처리하는 모델 추가해야 한다고 생각함.
        - 이미지 라벨링 A에 더해 이미지 라벨링 B를 구성해서, 이미지 라벨링 B을 '헬멧 미착용', '헬멧 착용'의 클래스로 구성
        - '헬멧 미착용'의 경우에만 이 별도 추가 모델에 입력. `if-else` 사용

여기까지 고려하면 순차적인 다중라벨-다중분류 모델로 정해야 할 것 같음. 하나의 이미지에 여러 위반사항이 있을 수 있기 때문에 다중라벨이고, 최종 27가지(+정상 클래스)의 다중분류가 필요하다.

그런데 다시 생각해보면, 성능이 좋은 딥러닝 모델은 layer가 체계적인 것보다는 복잡하게 구성되어 있고 그 속에서 인과관계를 잘 찾아내기 때문에 기존 방식대로 모델을 구성한다 하더라도 의문점을 제기할 필요 없이 충분할 것 같다.

그래서 만약 위 내용을 시도한다면 그건 기존 구조대로 결과를 내는 모델을 먼저 만든 후 모델을 세분화시켜서 그 속에 PM 3개를 구분한 후 각각의 3개에 대해 위반사항 9개로 구분하여 최종 27가지(+정상 클래스)의 다중(라벨)분류를 내는 모델을 추가적으로 연구할 수 있을 것이다.

# 데이터 증강
이 부분은 단순히 검색한 내용입니다.
- 이미지 증강할 때 라벨링데이터도 같이 전처리 필요
    - https://github.com/aleju/imgaug
    - https://github.com/albumentations-team/albumentations
    - https://opencv.org/